(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-solid.8bf1af37.svg"},23:function(e,t,a){e.exports=a.p+"static/media/bars-solid.b3f49afd.svg"},24:function(e,t,a){e.exports=a.p+"static/media/times-solid.2c5552a1.svg"},26:function(e,t,a){e.exports=a.p+"static/media/search-solid.c6a0effb.svg"},28:function(e,t,a){e.exports=a(46)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=(a(33),a(1)),l=a(2),s=a(4),u=a(3),m=(a(34),a(7)),d=a(23),p=a.n(d),h=a(24),g=a.n(h),f=a(17),b=a.n(f),v=(a(35),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).menuToggle=function(){var t=e.state.toggle;e.setState({toggle:!t})},e.state={toggle:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.toggle;return r.a.createElement("header",null,r.a.createElement("div",{className:"menu",onClick:this.menuToggle,"aria-hidden":"true"},r.a.createElement("img",{src:p.a,alt:"",width:"20"})),r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement(m.b,{to:"/"},"Mercado Livre"))),r.a.createElement("nav",null,r.a.createElement("ul",{className:e?"toggle":""},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/product"},"Produtos")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/contact"},"Contato")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/about"},"Sobre")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/login"},"Login / Registro")),r.a.createElement("li",{className:"close",onClick:this.menuToggle,"aria-hidden":"true"},r.a.createElement("img",{src:g.a,alt:"",width:"20"}))),r.a.createElement("div",{className:"nav-cart"},r.a.createElement("span",null,"0"),r.a.createElement(m.b,{to:"/cart"},r.a.createElement("img",{src:b.a,alt:"",width:"20"})))))}}]),a}(n.Component)),E=a(5),y=a(10),O=a.n(y),j=a(13),S=a(12);function k(){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(16);var N=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:"https://cdn.lowgif.com/small/0534e2a412eeb281-the-counterintuitive-tech-behind-netflix-s-worldwide.gif",alt:"loading"}))}}]),a}(n.Component),x=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={categories:[],status:"loading"},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchApi()}},{key:"fetchApi",value:function(){var e=Object(j.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,this.setState({categories:t,status:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.categories,a=e.status,n=this.props.fetchProducts;return"loading"===a?r.a.createElement(N,null):r.a.createElement("section",{className:"category-section"},r.a.createElement("h1",null,"Categorias:"),t.map((function(e){return r.a.createElement("label",{htmlFor:e.id,key:e.id,className:"label-radio"},r.a.createElement("input",{"data-testid":"category",type:"radio",id:e.id,name:"category",value:e.id,onClick:function(e){var t=e.target.value;return n(t)}}),e.name)})))}}]),a}(n.Component),q=a(14),F=a.n(q),H=(a(45),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setItemStorage=n.setItemStorage.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("productInfos"))||localStorage.setItem("productInfos",JSON.stringify([]))}},{key:"setItemStorage",value:function(){var e=JSON.parse(localStorage.getItem("productInfos")),t=this.props.products,a=t.id,n=t.title,r=t.thumbnail,c=t.price;e.push({id:a,title:n,thumbnail:r,price:c}),console.log(e),localStorage.setItem("productInfos",JSON.stringify(e))}},{key:"render",value:function(){var e=this.props.products,t=e.id,a=e.title,n=e.thumbnail,c=e.price;return r.a.createElement("li",{className:"card"},r.a.createElement(m.b,{to:{pathname:"/product/".concat(t),state:e},"data-testid":"product-detail-link"},r.a.createElement("div",{"data-testid":"product",className:"product"},r.a.createElement("img",{src:n,alt:"Foto do produto ".concat(a)}),r.a.createElement("h3",null,a),r.a.createElement("p",null,"R$ ".concat(c.toLocaleString("pt-BR"))))),r.a.createElement("button",{className:"button",type:"button","data-testid":"product-add-to-cart",onClick:this.setItemStorage},"Adicionar ao carrinho"))}}]),a}(n.Component));H.defaultProps={products:F.a.shape({title:"",thumbnail:"",price:0})};var J=H,P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.products;return r.a.createElement("ul",{className:"cart-items"},0===e.length?r.a.createElement("h4",null,"Nenhum produto foi encontrado"):e.map((function(e){return r.a.createElement(J,{key:e.id,products:e})})))}}]),a}(n.Component);P.defaultProps={products:[]};var R=P,A=a(26),M=a.n(A),T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).fetchProducts=function(){var t=Object(j.a)(O.a.mark((function t(a){var n,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,r=n.query,c=n.categoryId,e.setState({request:!0,categoryId:a},Object(j.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(c,r);case 2:a=t.sent,e.setState({dataApi:a.results,request:!1,query:""});case 4:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={query:"",categoryId:"",dataApi:[],request:!1},e.onSearchTextChange=e.onSearchTextChange.bind(Object(S.a)(e)),e.fetchProducts=e.fetchProducts.bind(Object(S.a)(e)),e}return Object(l.a)(a,[{key:"onSearchTextChange",value:function(e){var t=e.target;this.setState({query:t.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataApi,n=t.request,c=t.query;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cart-screen"},r.a.createElement("span",null,"0"),r.a.createElement(m.b,{to:"/cart"},r.a.createElement("button",{type:"button",className:"cart-scree","data-testid":"shopping-cart-button"},r.a.createElement("img",{src:b.a,alt:"",width:"20"})))),r.a.createElement("p",{className:"info","data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria."),r.a.createElement(x,{fetchProducts:this.fetchProducts}),r.a.createElement("section",{className:"searchbar"},r.a.createElement("input",{className:"search-txt",placeholder:"Search","data-testid":"query-input",type:"text",onChange:this.onSearchTextChange}),r.a.createElement("button",{className:"searchbar-btn","data-testid":"query-button",type:"button",onClick:function(){return e.fetchProducts()},query:c},r.a.createElement("img",{src:M.a,alt:"",width:"20"}))),r.a.createElement(R,{products:a,request:n}))}}]),a}(n.Component),B=a(27),L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(i.a)(this,a);var r=(n=t.call(this,e)).props,c=r.email,o=r.msg,l=r.rating;return n.state={email:c,message:o,rating:l},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.message,n=e.rating;return r.a.createElement("div",null,r.a.createElement("strong",null,t),r.a.createElement("p",null,a),r.a.createElement("p",null,n))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={email:"",message:"",rating:0,showForm:!1},n.setItemStorage=n.setItemStorage.bind(Object(S.a)(n)),n.inputHandler=n.inputHandler.bind(Object(S.a)(n)),n.renderRating=n.renderRating.bind(Object(S.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("productInfos"))||localStorage.setItem("productInfos",JSON.stringify([]))}},{key:"setItemStorage",value:function(){var e=JSON.parse(localStorage.getItem("productInfos")),t=this.props.location.state,a=t.id,n=t.title,r=t.thumbnail,c=t.price;e.push({id:a,title:n,thumbnail:r,price:c}),localStorage.setItem("productInfos",JSON.stringify(e))}},{key:"inputHandler",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(B.a)({},a,n))}},{key:"renderRating",value:function(){this.setState({showForm:!0})}},{key:"render",value:function(){var e=this.props.location.state,t=e.title,a=e.thumbnail,n=e.price,c=this.state,o=c.email,i=c.message,l=c.rating,s=c.showForm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{to:"/cart"},r.a.createElement("button",{type:"button","data-testid":"shopping-cart-button"},"Carrinho")),r.a.createElement("h4",{"data-testid":"product-detail-name"},t),r.a.createElement("img",{src:a,alt:t}),r.a.createElement("span",null,"R$",n),r.a.createElement("button",{type:"button","data-testid":"product-detail-add-to-cart",onClick:this.setItemStorage},"Adicionar ao carrinho"),r.a.createElement("form",null,r.a.createElement("input",{name:"email",required:!0,placeholder:"Email",type:"text",value:o,onChange:this.inputHandler}),r.a.createElement("textarea",{name:"message",placeholder:"Message","data-testid":"product-detail-evaluation",cols:"30",rows:"10",value:i,onChange:this.inputHandler}),r.a.createElement("label",{htmlFor:"rating"},"1",r.a.createElement("input",{type:"radio",id:"1",name:"rating",value:"1",onChange:this.inputHandler})),r.a.createElement("label",{htmlFor:"rating"},"2",r.a.createElement("input",{type:"radio",id:"2",name:"rating",value:"2",onChange:this.inputHandler})),r.a.createElement("label",{htmlFor:"rating"},"3",r.a.createElement("input",{type:"radio",id:"3",name:"rating",value:"3",onChange:this.inputHandler})),r.a.createElement("label",{htmlFor:"rating"},"4",r.a.createElement("input",{type:"radio",id:"4",name:"rating",value:"4",onChange:this.inputHandler})),r.a.createElement("label",{htmlFor:"rating"},"5",r.a.createElement("input",{type:"radio",id:"5",name:"rating",value:"5",onChange:this.inputHandler})),r.a.createElement("button",{onClick:this.renderRating,type:"button"},"Avaliar")),s?r.a.createElement(L,{email:o,msg:i,rating:l}):null)}}]),a}(n.Component),$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.productInfo,t=e.title,a=e.thumbnail,n=e.price;return r.a.createElement("li",null,r.a.createElement("h5",{"data-testid":"shopping-cart-product-name"},t),r.a.createElement("div",null,r.a.createElement("img",{src:a,alt:t}),r.a.createElement("span",null,"R$ ".concat(n.toFixed(2)))),r.a.createElement("div",null,r.a.createElement("button",{type:"button"},"+"),r.a.createElement("button",{type:"button"},"-"),r.a.createElement("button",{type:"button"},"Remover")))}}]),a}(n.Component),W=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={productInfo:JSON.parse(localStorage.getItem("productInfos"))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.productInfo;return 0===window.localStorage.length?r.a.createElement("h1",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"):r.a.createElement("ul",null,e.map((function(e){return r.a.createElement($,{productInfo:e,key:e.id})})),r.a.createElement("h2",null,"Total:"),r.a.createElement("span",{"data-testid":"shopping-cart-product-quantity"},"Quantidade de Produtos:",e.length))}}]),a}(r.a.Component),z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"first"},r.a.createElement(E.a,{exact:!0,path:"/",component:T}),r.a.createElement(E.a,{path:"/cart",component:W}),r.a.createElement(E.a,{path:"/product/:id",render:function(e){return r.a.createElement(D,e)}}))}}]),a}(n.Component),Q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(m.a,null,r.a.createElement(v,null),r.a.createElement(z,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d35ed9ae.chunk.js.map